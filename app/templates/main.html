<ion-view title="Dashboard" has-subheader="true">
    <ion-nav-buttons side="primary">
        <button class="button button-icon button-clear ion-android-settings text-primary-color" ng-click="modal.show()"></button>
        <button class="button button-icon ion-android-exit" ng-click="logout()"></button>
    </ion-nav-buttons>
    <ion-header-bar class="bar-stable bar-subheader">
        <h1 class="title font-fix">Welcome {{authData.teachername}}</h1>
        <button class="button button-assertive" ng-click="newAtt()"><i class="ion-android-create"></i> New Attendance</button>
    </ion-header-bar>
    <ion-content class="has-subheader">
        <ion-list>
            <ion-item class="item-icon-left" ng-repeat="(key, att) in attendances track by key" ng-click="gotoDetails(key)" can-swipe="true">

                <i ng-class="{'icon ion-android-cloud-done':att.uploaded, 'icon ion-android-cloud':!att.uploaded}"></i>
                <h2 class="primary-text-color">{{ att.subid.value }}</h2>
                <p class="secondary-text-color">{{ att.year.id | uppercase }} {{ att.dept.value }}, {{ att.type.value }}
                    <span class="item-note">{{att.date | date:"EEE, dd MMM"}}</span>
                </p>

                <ion-option-button class="button-positive" ng-if="!att.uploaded" ion-stop-event="click" ng-click="syncFb(att,key)">SYNC</ion-option-button>
                <ion-option-button class="button-assertive" ng-if="!att.uploaded" ion-stop-event="click" ng-click="deleteAtt(key)">DELETE</ion-option-button>
            </ion-item>
        </ion-list>
        <div class="padding">
        </div>
    </ion-content>
</ion-view>